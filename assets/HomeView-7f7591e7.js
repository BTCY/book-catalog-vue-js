import{d as i,r as I,o as r,c,F as w,a as $,b as L,e as t,t as b,f as l,g as y,w as V,p as S,h as g,_ as B,i as f,v as C,j as N,k as T}from"./index-c53fb158.js";import{g as x}from"./books-service-52607f7c.js";function D(e,o){let s;return function(...a){clearTimeout(s),s=setTimeout(()=>{e.apply(this,a)},o)}}const M=e=>(S("data-v-02080442"),e=e(),g(),e),R={key:0},F={class:"book-content-wrap"},U={class:"thumbnail-wrap"},j=["src"],q={class:"text-wrap"},E=M(()=>t("br",null,null,-1)),H={name:"BookSearchList"},O=i({...H,props:{books:{}},setup(e){return(o,s)=>{var _,u,p;const a=I("RouterLink");return(_=o.books)!=null&&_.items&&((p=(u=o.books)==null?void 0:u.items)==null?void 0:p.length)>0?(r(),c("ul",R,[(r(!0),c(w,null,$(o.books.items,n=>{var h,m,k,v;return r(),c("li",{key:n.id},[t("h3",null,b((h=n.volumeInfo)==null?void 0:h.title),1),t("div",F,[t("div",U,[t("img",{class:"book-thumbnail",src:(k=(m=n.volumeInfo)==null?void 0:m.imageLinks)==null?void 0:k.thumbnail},null,8,j)]),t("div",q,[l(b((v=n.volumeInfo)==null?void 0:v.description)+" ",1),E,y(a,{to:{name:"book",params:{bookId:n.id}}},{default:V(()=>[l("More")]),_:2},1032,["to"])])])])}),128))])):L("",!0)}}});const z=B(O,[["__scopeId","data-v-02080442"]]),d=e=>(S("data-v-b0580c0a"),e=e(),g(),e),A={class:"toolbar"},G={class:"search-wrap"},J=d(()=>t("label",{for:"order"},"Order by",-1)),K=d(()=>t("option",{value:"newest"},"newest",-1)),P=d(()=>t("option",{value:"relevance"},"relevance",-1)),Q=[K,P],W={name:"BookSearch",data(){return{books:void 0,keyword:"",orderBy:"newest",maxResults:"500",loadState:""}},watch:{keyword:D(function(){this.search()},500)},methods:{search(){this.loadState="loading",x(this.keyword).then(e=>{this.books=e,this.loadState="success",console.log(e)}).catch(e=>console.log(e))}}},X=i({...W,setup(e){return(o,s)=>(r(),c(w,null,[t("div",A,[t("div",G,[f(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o.keyword=a),autofocus:"",placeholder:"Search...",class:"search-input",required:""},null,512),[[C,o.keyword]])]),t("div",null,[J,l("Â  "),f(t("select",{name:"order","onUpdate:modelValue":s[1]||(s[1]=a=>o.orderBy=a),onChange:s[2]||(s[2]=(...a)=>o.search&&o.search(...a))},Q,544),[[N,o.orderBy]])])]),y(z,{books:o.books},null,8,["books"])],64))}});const Y=B(X,[["__scopeId","data-v-b0580c0a"]]),oe=i({__name:"HomeView",setup(e){return(o,s)=>(r(),T(Y))}});export{oe as default};
