import{d as g,o as n,c as a,e as l,t as c,F as y,a as I,b,_ as L,n as H,k as m,u as N,p as W,h as j}from"./index-c53fb158.js";import{a as z}from"./books-service-52607f7c.js";const E="/book-catalog-vue-js/assets/bookmark-2b9b75f0.svg",G={key:0,class:"field-wrap"},R={key:0},q={key:1},J={name:"DetailsField"},K=g({...J,props:{field:{}},setup(t){return(e,o)=>{var i,r,u,s,v,f,_,p;return typeof((i=e.field)==null?void 0:i.value)=="string"||typeof((r=e.field)==null?void 0:r.value)=="number"||Array.isArray((u=e.field)==null?void 0:u.value)&&((v=(s=e.field)==null?void 0:s.value)==null?void 0:v.length)>0?(n(),a("div",G,[l("h4",null,c(e.field.title),1),Array.isArray((f=e.field)==null?void 0:f.value)&&((p=(_=e.field)==null?void 0:_.value)==null?void 0:p.length)>0?(n(),a("ul",R,[(n(!0),a(y,null,I(e.field.value,(k,h)=>(n(),a("li",{key:h},c(k),1))),128))])):(n(),a("span",q,c(e.field.value),1))])):b("",!0)}}});const M=L(K,[["__scopeId","data-v-a525ada9"]]),O=["href"],Q={name:"ButtonLink",data(){return{hover:!1}},computed:{style(){return{width:this.fullWidth?"100%":"auto",...this.variant==="container"&&{backgroundColor:"#26a69a",color:"#fff",...this.hover&&{backgroundColor:"#009688"}},...this.variant==="text"&&{color:"#00695f",...this.hover&&{backgroundColor:"#e0f2f1"}},...this.variant==="outline"&&{color:"#00695f",border:"1px solid #00695f",...this.hover&&{backgroundColor:"#009688"}}}}}},U=g({...Q,props:{text:{},link:{},variant:{default:"text"},fullWidth:{type:Boolean,default:!0},target:{default:"_blank"}},setup(t){return(e,o)=>(n(),a("a",{href:e.link,style:H(e.style),onMouseenter:o[0]||(o[0]=i=>e.hover=!0),onMouseleave:o[1]||(o[1]=i=>e.hover=!1),target:"target"},c(e.text),45,O))}});const T=L(U,[["__scopeId","data-v-f20c917c"]]),X=t=>(W("data-v-a15bd6fe"),t=t(),j(),t),Y={key:0,class:"book-details-wrap"},Z={class:"book-content-wrap"},B={class:"asaid-wrap"},D=["src"],x=X(()=>l("button",{class:"add-bookmark-button"},[l("img",{alt:"logo",class:"add-bookmark-button-icon",src:E}),l("span",null,"Add to bookmarks")],-1)),ee={class:"asaid-button-link-wrap"},te={class:"info-wrap"},oe={class:"fields-wrap"},le=["innerHTML"],ne={class:"fields-wrap"},se={name:"BookDetails",data(){return{book:void 0,loadState:""}},methods:{bookDataAdapter(t){var e,o,i,r,u,s,v,f,_,p,k,h,w,$,P,C,A,S,V,F;return console.log(t),{title:(e=t.volumeInfo)==null?void 0:e.title,image:(i=(o=t.volumeInfo)==null?void 0:o.imageLinks)==null?void 0:i.thumbnail,description:(r=t.volumeInfo)==null?void 0:r.description,canonicalVolumeLink:{title:"Google Play",value:(u=t.volumeInfo)==null?void 0:u.canonicalVolumeLink},previewLink:{title:"Preview",value:(s=t.volumeInfo)==null?void 0:s.previewLink},price:{title:"Price",value:(f=(v=t.saleInfo)==null?void 0:v.listPrice)!=null&&f.amount&&((p=(_=t.saleInfo)==null?void 0:_.listPrice)!=null&&p.currencyCode)?t.saleInfo.listPrice.amount+t.saleInfo.listPrice.currencyCode:void 0},details:[{title:"Authors",value:(k=t.volumeInfo)==null?void 0:k.authors},{title:"Categories",value:(h=t.volumeInfo)==null?void 0:h.categories}].filter(d=>d.value),subDetails:[{title:"Publisher",value:(w=t.volumeInfo)==null?void 0:w.publisher},{title:"Published date",value:($=t.volumeInfo)==null?void 0:$.publishedDate},{title:"Print type",value:(P=t.volumeInfo)==null?void 0:P.printType},{title:"Page count",value:(C=t.volumeInfo)==null?void 0:C.printedPageCount},{title:"Industry identifiers",value:(S=(A=t.volumeInfo)==null?void 0:A.industryIdentifiers)==null?void 0:S.map(d=>d.type+" â€” "+d.identifier)},{title:"Language",value:(V=t.volumeInfo)==null?void 0:V.language},{title:"Dimensions",value:(F=t.volumeInfo)==null?void 0:F.dimensions}].filter(d=>d.value)}}},mounted(){const e=N().params.bookId;this.loadState="loading",z(e).then(o=>{o!==void 0&&(this.book=this.bookDataAdapter(o)),this.loadState="success"}).catch(o=>console.log(o))}},ie=g({...se,setup(t){return(e,o)=>{var i,r,u;return e.book!==void 0?(n(),a("div",Y,[l("div",Z,[l("div",B,[l("img",{class:"book-image",src:(i=e.book)==null?void 0:i.image},null,8,D),x,l("div",ee,[e.book.canonicalVolumeLink.value?(n(),m(T,{key:0,text:e.book.canonicalVolumeLink.title,link:e.book.canonicalVolumeLink.value},null,8,["text","link"])):b("",!0),e.book.previewLink.value?(n(),m(T,{key:1,text:e.book.previewLink.title,link:e.book.previewLink.value},null,8,["text","link"])):b("",!0)])]),l("div",te,[l("h1",null,c((r=e.book)==null?void 0:r.title),1),l("p",null,c(`${e.book.price.title} ${e.book.price.value}`),1),l("div",oe,[(n(!0),a(y,null,I(e.book.details,s=>(n(),m(M,{key:s.title,field:s},null,8,["field"]))),128))]),l("div",{innerHTML:(u=e.book)==null?void 0:u.description,class:"field-description"},null,8,le),l("div",ne,[(n(!0),a(y,null,I(e.book.subDetails,s=>(n(),m(M,{key:s.title,field:s},null,8,["field"]))),128))])])])])):b("",!0)}}});const ae=L(ie,[["__scopeId","data-v-a15bd6fe"]]),de=g({__name:"BookView",setup(t){return(e,o)=>(n(),m(ae))}});export{de as default};
